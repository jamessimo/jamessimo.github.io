!function t(e,i,a){function r(o,n){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!n&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return r(i?i:t)},c,c.exports,t,e,i,a)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<a.length;o++)r(a[o]);return r}({1:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(t,e,i){for(var a=!0;a;){var r=t,s=e,o=i;a=!1,null===r&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,s);if(void 0!==n){if("value"in n)return n.value;var l=n.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=s,i=o,a=!0,n=u=void 0}},n=t("states/Boot"),l=a(n),u=t("states/Preload"),c=a(u),h=t("states/GameTitle"),p=a(h),d=t("states/Intro"),f=a(d),g=t("states/Main"),y=a(g),v=t("states/GameOver"),m=a(v),b=function(t){function e(){r(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio,Phaser.AUTO),this.state.add("Boot",l["default"],!1),this.state.add("Preload",c["default"],!1),this.state.add("GameTitle",p["default"],!1),this.state.add("Intro",f["default"],!1),this.state.add("Main",y["default"],!1),this.state.add("GameOver",m["default"],!1),this.state.start("Boot")}return s(e,t),e}(Phaser.Game);new b},{"states/Boot":6,"states/GameOver":7,"states/GameTitle":8,"states/Intro":9,"states/Main":10,"states/Preload":11}],2:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),s=function(){function t(e){a(this,t),this.game=e,this.chatbox=null,this.chatboxTEX=null,this.chatboxGroup=null,this.avatar=null,this.textStyle=null,this.text=null,this.font=null,this.fontBox=null,this.initChatGUI()}return r(t,[{key:"initChatGUI",value:function(){this.chatboxGroup=this.game.add.group(),this.chatbox=new Phaser.Graphics(this.game).beginFill(Phaser.Color.hexToRGB("#ff9999"),1).drawRect(0,0,this.game.width/1.2,128),this.chatbox.anchor.set(.5),this.chatboxTEX=this.chatbox.generateTexture(),this.chatbox.sprite=this.game.add.sprite(this.game.width/2-this.chatbox.width/2,this.game.height-this.chatbox.height-200,this.chatboxTEX),this.chatboxGroup.add(this.chatbox.sprite),this.avatar=this.game.add.sprite(48,48,"avatar"),this.avatar.scale.setTo(2),this.avatar.texture.baseTexture.scaleMode=PIXI.scaleModes.NEAREST,this.avatar.position.x=this.chatbox.sprite.position.x+20,this.avatar.position.y=this.chatbox.sprite.position.y+this.chatbox.height/2-this.avatar.height/2,this.chatboxGroup.add(this.avatar),this.font=this.game.add.retroFont("ascii",8,8,Phaser.RetroFont.TEXT_SET1,null,0,0,0,16),this.font.multiLine=!0,this.fontBox=this.game.add.image(this.chatbox.sprite.x+this.avatar.width+40,this.chatbox.sprite.y+this.chatbox.sprite.height/2,this.font),this.fontBox.anchor.set(0,.5),this.fontBox.scale.setTo(3),this.chatboxGroup.add(this.fontBox),this.chatboxGroup.enableBody=!1}},{key:"setAvatar",value:function(t,e){t?(this.avatar.loadTexture(t,0),this.avatar.animations.add("talk"),this.avatar.animations.play("talk",10/e,!0)):this.avatar.loadTexture("avatar",0)}},{key:"typeWriter",value:function(t,e,i){var a=this;e<t.length&&(this.font.text=t.substr(0,e+1),e++,setTimeout(function(){a.typeWriter(t,e,i)},.075*i*1e3))}},{key:"updatePos",value:function(t){var e=this.game.world.scale.x;this.chatboxGroup.scale.setTo(1/e),this.chatboxGroup.position.x=(this.game.width-this.game.width/e)/window.devicePixelRatio,this.game.add.tween(this.chatboxGroup.position).to({y:(this.game.height-this.game.height/e)/window.devicePixelRatio},1e3,Phaser.Easing.Bounce.Out,!0)}}]),t}();i["default"]=s,e.exports=i["default"]},{}],3:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),s=function(){function t(e){a(this,t),this.game=e,this.isRising=!1,this.sprite=null}return r(t,[{key:"spawn",value:function(){this.sprite=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY,"player"),this.game.physics.arcade.enable(this.sprite),this.sprite.enableBody=!0,this.sprite.body.gravity.y=3e3,this.sprite.body.velocity.y=-1500,this.setFalling(),this.sprite.body.collideWorldBounds=!1,this.sprite.anchor.setTo(.5,.5),this.sprite.scale.set(6),this.sprite.texture.baseTexture.scaleMode=PIXI.scaleModes.NEAREST,this.fly=this.sprite.animations.add("fly"),this.sprite.animations.play("fly",20,!0),this.game.camera.follow(this.sprite)}},{key:"setRising",value:function(){this.isRising=!0,this.game.add.tween(this.sprite).to({angle:20},1e3,Phaser.Easing.Bounce.Out,!0)}},{key:"setFalling",value:function(){this.isRising=!1,this.game.add.tween(this.sprite).to({angle:0},1e3,Phaser.Easing.Linear.None,!0)}},{key:"increaseVerticalVelocity",value:function(){this.sprite.body.velocity.y>-1500&&(this.sprite.body.velocity.y-=200)}},{key:"isOutOfBounds",value:function(){var t=this.sprite.body.position.y;return t>this.game.world.height||t<0}}]),t}();i["default"]=s,e.exports=i["default"]},{}],4:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),s=function(){function t(e){a(this,t),this.game=e,this.wallGroup=null,this.spriteGroup=null,this.wallSpeed=500,this.wallWidths=[64,96,128],this.wallHeights=[128,160,192,224,256,288,320,352,384,416,448],this.buildings=["building1","building2","building3","building4"],this.numberOfWalls=20,this.initWalls()}return r(t,[{key:"initWalls",value:function(){this.spriteGroup=this.game.add.group(),this.spriteGroup.enableBody=!0;for(var t=null,e=null,i=0;i<this.numberOfWalls;i++)this.wallHeight=Phaser.ArrayUtils.getRandomItem(this.wallHeights),this.wallWidth=Phaser.ArrayUtils.getRandomItem(this.wallWidths),this.building=Phaser.ArrayUtils.getRandomItem(this.buildings),t=this.game.add.tileSprite(0,0,this.wallWidth,this.wallHeight,this.building),e=t.generateTexture(),this.spriteGroup.create(0,0,e,0,!1),t.destroy()}},{key:"spawn",value:function(){var t=this.spriteGroup.getFirstDead();t&&(t.body.gravity.y=0,t.anchor.setTo(0,1),t.reset(this.game.world.width,this.game.world.height),t.scale.set(2),t.texture.baseTexture.scaleMode=PIXI.scaleModes.NEAREST,t.body.velocity.x=-this.wallSpeed,t.body.immovable=!0,t.checkWorldBounds=!0,t.outOfBoundsKill=!0)}}]),t}();i["default"]=s,e.exports=i["default"]},{}],5:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),s=function(){function t(e){a(this,t),this.game=e,this.wallGroup=null,this.spriteGroup=null,this.cinematicBars={top:null,bottom:null,speed:500}}return r(t,[{key:"ZoomIn",value:function(){var t=1.2;this.game.add.tween(this.game.world.scale).to({x:t,y:t},1e3,Phaser.Easing.Bounce.Out,!0),this.game.add.tween(this.game.camera.focusOnXY).to({x:this.game.world.centerX*this.game.world.scale.x,y:this.game.world.centerY*this.game.world.scale.y},1e3,Phaser.Easing.Bounce.Out,!0)}},{key:"Cinematic",value:function(t){var e=this;this.cinematicBars.top=new Phaser.Graphics(this.game).beginFill(Phaser.Color.hexToRGB("#000000"),1).drawRect(0,0,this.game.width,300*this.game.world.scale.x),this.barTexture=this.cinematicBars.top.generateTexture(),this.cinematicBars.top=this.game.add.sprite(this.game.width/2-this.cinematicBars.top.width/2,0-this.cinematicBars.top.height,this.barTexture),this.cinematicBars.bottom=new Phaser.Graphics(this.game).beginFill(Phaser.Color.hexToRGB("#000000"),1).drawRect(0,0,this.game.width,300*this.game.world.scale.x),this.cinematicBars.bottom=this.game.add.sprite(this.game.width/2-this.cinematicBars.bottom.width/2,this.game.height,this.barTexture);var i=this.game.add.tween(this.cinematicBars.top.position).to({y:0},1e3,Phaser.Easing.Bounce.Out,!0);i.onComplete.add(function(){e.game.paused=!1});this.game.add.tween(this.cinematicBars.bottom.position).to({y:this.game.height-this.cinematicBars.bottom.height},1e3,Phaser.Easing.Bounce.Out,!0)}}]),t}();i["default"]=s,e.exports=i["default"]},{}],6:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),o=function(t,e,i){for(var a=!0;a;){var r=t,s=e,o=i;a=!1,null===r&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,s);if(void 0!==n){if("value"in n)return n.value;var l=n.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=s,i=o,a=!0,n=u=void 0}},n=function(t){function e(){a(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),s(e,[{key:"preload",value:function(){this.load.image("preloadBar","assets/loader.png")}},{key:"create",value:function(){this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.state.start("Preload")}}]),e}(Phaser.State);i["default"]=n,e.exports=i["default"]},{}],7:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),o=function(t,e,i){for(var a=!0;a;){var r=t,s=e,o=i;a=!1,null===r&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,s);if(void 0!==n){if("value"in n)return n.value;var l=n.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=s,i=o,a=!0,n=u=void 0}},n=function(t){function e(){a(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),s(e,[{key:"create",value:function(){}},{key:"restartGame",value:function(){this.game.state.start("Main")}}]),e}(Phaser.State);i["default"]=n,e.exports=i["default"]},{}],8:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),o=function(t,e,i){for(var a=!0;a;){var r=t,s=e,o=i;a=!1,null===r&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,s);if(void 0!==n){if("value"in n)return n.value;var l=n.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=s,i=o,a=!0,n=u=void 0}},n=function(t){function e(){a(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),s(e,[{key:"create",value:function(){alert("hello")}},{key:"startGame",value:function(){this.game.state.start("Main")}}]),e}(Phaser.State);i["default"]=n,e.exports=i["default"]},{}],9:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(t,e,i){for(var a=!0;a;){var r=t,s=e,o=i;a=!1,null===r&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,s);if(void 0!==n){if("value"in n)return n.value;var l=n.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=s,i=o,a=!0,n=u=void 0}},l=t("objects/Helicopter"),u=a(l),c=function(t){function e(){r(this,e),n(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return s(e,t),o(e,[{key:"create",value:function(){this.currentLevel=this.game.cache.getJSON("chatScript").level[0],this.game.stage.backgroundColor="#222034",this.background=this.game.add.tileSprite(0,-512,this.game.width,512,"cityBG"),this.background.scale.set(3),this.background.texture.baseTexture.scaleMode=PIXI.scaleModes.NEAREST,this.helicopter=new u["default"](this.game),this.helicopter.spawn(),this.helicopter.sprite.body.enable=!1,this.helicopter.sprite.body.moves=!1,this.helicopter.sprite.position.x=200,this.helicopter.sprite.position.y=this.game.world.height-this.helicopter.sprite.height/2,this.startIntro()}},{key:"update",value:function(){}},{key:"startIntro",value:function(){var t=this;this.passanger=this.game.add.sprite(this.game.world.width,this.game.world.height,"runner1"),this.passanger.anchor.setTo(.5,1),this.passanger.scale.set(4),this.passanger.texture.baseTexture.scaleMode=PIXI.scaleModes.NEAREST,this.passanger.animations.add("run"),this.passanger.animations.play("run",20,!0);var e=this.game.add.tween(this.passanger.position).to({x:this.helicopter.sprite.position.x},4e3,Phaser.Easing.Linear.None,!1);e.onComplete.add(function(){t.game.add.tween(t.background.position).to({y:0},2e3,Phaser.Easing.Linear.None,!0),t.passanger.destroy()},this);var i=this.game.add.tween(this.helicopter.sprite).to({x:this.game.world.centerX,y:this.game.world.centerY},2e3,Phaser.Easing.Cubic.InOut,!1);i.onComplete.add(function(){t.game.time.events.add(1e3,function(){t.game.state.start("Main")},t)}),e.chain(i),e.start()}}]),e}(Phaser.State);i["default"]=c,e.exports=i["default"]},{"objects/Helicopter":3}],10:[function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(t,e,i){for(var a=!0;a;){var r=t,s=e,o=i;a=!1,null===r&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,s);if(void 0!==n){if("value"in n)return n.value;var l=n.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=s,i=o,a=!0,n=u=void 0}},l=t("objects/ChatGUI"),u=a(l),c=t("objects/Helicopter"),h=a(c),p=t("objects/MovingWalls"),d=a(p),f=t("objects/ScreenEffects"),g=a(f),y=function(t){function e(){r(this,e),n(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return s(e,t),o(e,[{key:"create",value:function(){this.pauseKey=null,this.testKey=null,this.playing=!0;var t=Date.now();this.random=new Phaser.RandomDataGenerator([t]),this.currentLevel=this.game.cache.getJSON("chatScript").level[0],this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.stage.backgroundColor="#222034",this.background=this.game.add.tileSprite(0,0,this.game.width,512,"cityBG"),this.background.scale.set(3),this.background.texture.baseTexture.scaleMode=PIXI.scaleModes.NEAREST,this.helicopter=new h["default"](this.game),this.helicopter.spawn(),this.walls=new d["default"](this.game),this.chatui=new u["default"](this.game),this.screenEffects=new g["default"](this.game),this.spawnWallsEvent=null,this.addControls(),this.addTimers(),this.chatStart(),this.chatui.chatboxGroup.position.y=this.chatui.chatboxGroup.position.y/this.game.world.scale.y}},{key:"update",value:function(){this.game.physics.arcade.overlap(this.helicopter.sprite,this.walls.spriteGroup,this.gameOver,null,this),this.playing===!0&&(this.background.tilePosition.x-=1,this.helicopter.isOutOfBounds()&&this.gameOver(),this.helicopter.isRising&&this.helicopter.increaseVerticalVelocity())}},{key:"addControls",value:function(){this.game.input.onDown.add(this.helicopter.setRising,this.helicopter),this.game.input.onUp.add(this.helicopter.setFalling,this.helicopter),this.pauseKey=this.game.input.keyboard.addKey(Phaser.Keyboard.P).onDown.add(this.pause,this),this.testKey=this.game.input.keyboard.addKey(Phaser.Keyboard.W).onDown.add(this.winLevel,this)}},{key:"addTimers",value:function(){this.spawnWallsEvent=this.game.time.events.loop(512,this.walls.spawn,this.walls)}},{key:"gameOver",value:function(){var t=this;this.playing=!1,this.helicopter.sprite.body.moves=!1,this.helicopter.sprite.animations.stop("fly"),this.helicopter.sprite.body.moves=!1,this.helicopter.sprite.tint=6710886,this.walls.spriteGroup.enableBody=!1,this.game.time.events.remove(this.spawnWallsEvent),this.walls.spriteGroup.children.forEach(function(t){t.body.velocity.x=0});for(var e=0;e<4;e++)setTimeout(function(){t.explosion=t.game.add.sprite(t.random.integerInRange(t.helicopter.sprite.position.x-64,t.helicopter.sprite.position.x+64),t.random.integerInRange(t.helicopter.sprite.position.y-64,t.helicopter.sprite.position.y+64),"explosion"),t.explosion.anchor.setTo(.5,.5),t.explosion.scale.set(6),t.explosion.texture.baseTexture.scaleMode=PIXI.scaleModes.NEAREST,t.explosion.animations.add("boom"),t.explosion.animations.play("boom",t.random.integerInRange(7,10),!1)},258*e);this.game.time.events.add(1548,function(){t.explosion=null,t.game.state.restart()},this)}},{key:"pause",value:function(){1==this.game.paused?this.game.paused=!1:this.game.paused=!0}},{key:"winLevel",value:function(){var t=this;this.game.time.events.remove(this.spawnWallsEvent),this.playing=!1,this.helicopter.sprite.body.enable=!1,this.helicopter.sprite.body.moves=!1;var e=this.game.add.tween(this.helicopter.sprite).to({x:this.game.world.centerX,y:this.game.world.centerY},2e3,Phaser.Easing.Cubic.InOut,!0);e.onComplete.add(function(){t.screenEffects.Cinematic(t.background),t.chatui.updatePos(),t.game.world.bringToTop(t.chatui.chatboxGroup),t.game.time.events.add(1e3,function(){t.passanger=t.game.add.sprite(t.helicopter.sprite.position.x,t.helicopter.sprite.position.y,"passanger1"),t.game.physics.arcade.enable(t.passanger),t.passanger.scale.set(6),t.passanger.texture.baseTexture.scaleMode=PIXI.scaleModes.NEAREST,t.passanger.enableBody=!0,t.passanger.body.gravity.y=1e3,t.passanger.body.velocity.y=-750,t.passanger.body.angularVelocity=40},t)})}},{key:"chatStart",value:function(){for(var t=0,e=0;e<this.currentLevel.script.length;e++)t+=.075*this.currentLevel.script[e].text.length*this.currentLevel.script[e].speed,this.currentLevel.script[e].wait=t-.075*this.currentLevel.script[e].text.length*this.currentLevel.script[e].speed;this.currentLevel.script.forEach(function(t){var e=this;this.game.time.events.add(1e3*t.wait,function(){e.game.speakAudio.src=e.game.synth.Animalese(t.text,t.speed).dataURI,e.game.speakAudio.play(),e.chatui.setAvatar(t.avatar,t.speed),e.chatui.typeWriter(t.text,0,t.speed),1==t.winTrig&&e.winLevel()},this)},this)}}]),e}(Phaser.State);i["default"]=y,e.exports=i["default"]},{"objects/ChatGUI":2,"objects/Helicopter":3,"objects/MovingWalls":4,"objects/ScreenEffects":5}],11:[function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),o=function(t,e,i){for(var a=!0;a;){var r=t,s=e,o=i;a=!1,null===r&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,s);if(void 0!==n){if("value"in n)return n.value;var l=n.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=s,i=o,a=!0,n=u=void 0}},n=function(t){function e(){a(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),s(e,[{key:"preload",value:function(){this.preloadBar=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"preloadBar"),this.load.setPreloadSprite(this.preloadBar),this.preloadBar.position.x=this.preloadBar.position.x-200,this.preloadBar.anchor.setTo(0,.5),this.game.load.spritesheet("player","assets/Player.png",32,16,2),this.game.load.spritesheet("avatar","assets/avatarBG.png",48,48,1),this.game.load.image("ascii","assets/ATASCII.png"),this.game.load.image("testBG","assets/grid.png"),this.game.load.image("cityBG","assets/cityBG.png"),this.game.load.image("passanger1","assets/passanger1.png"),this.game.load.spritesheet("building1","assets/building1.png",32,32,1),this.game.load.spritesheet("building2","assets/building2.png",32,32,1),this.game.load.spritesheet("building3","assets/building3.png",32,32,1),this.game.load.spritesheet("building4","assets/building4.png",32,32,1),this.game.load.spritesheet("explosion","assets/explode.png",16,16,6),this.game.load.spritesheet("sargon","assets/sarAvatar.png",48,48,2),this.game.load.spritesheet("runner1","assets/passanger1walk.png",16,24,5),this.game.load.json("chatScript","assets/chatScripts.json"),this.game.load.audio("synthAudio","assets/animalese.wav")}},{key:"create",value:function(){var t=this;this.game.synth=new Animalese("assets/animalese.wav",function(){t.game.speakAudio=new Audio});var e=this.add.tween(this.preloadBar).to({alpha:0},1e3,Phaser.Easing.Linear.None,!0);e.onComplete.add(this.startMainMenu,this)}},{key:"startMainMenu",value:function(){this.game.state.start("Intro",!0,!1)}}]),e}(Phaser.State);i["default"]=n,e.exports=i["default"]},{}]},{},[1]);